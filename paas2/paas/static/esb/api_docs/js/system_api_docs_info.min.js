$(function(){var e=Backbone.View.extend({el:"#system_api_info",feedback_default_template:Handlebars.compile($("#tmpl-feedback-default").html()),feedback_content_template:Handlebars.compile($("#tmpl-feedback-content").html()),events:{"click #system_desc":function(){this.init_desc_content()},"click .sub-menu a":"render_right_content","click #question":function(){$("#user_feedback").empty().html(this.feedback_content_template())},"click #cancel":function(){$("#user_feedback").empty().html(this.feedback_default_template())},"click #submit":"submit_the_advice","click #ok":"submit_the_advice"},initialize:function(e){this.init_left_nav(),this.render_right_content()},init_left_nav:function(e){var t=$(".has_submenu>a").parent("li"),n=$(".has_submenu>a").next("ul");$(".navi > li > ul").slideUp(350),setTimeout(function(){$(".navi > li").removeClass("open"),n.slideDown(350),t.addClass("open")},350),$(".has_submenu > a").click(function(e){var t=$(this).parent("li"),n=$(this).next("ul");return t.hasClass("open")?n.slideUp(350,function(){t.removeClass("open")}):($(".navi > li > ul").slideUp(350),setTimeout(function(){$(".navi > li").removeClass("open"),n.slideDown(350),t.addClass("open")},350)),!1})},render_right_content:function(e){var t=$(".a-active-style").attr("name");"desc"!=t?($("#curr_breadcrumb").empty().html(gettext("API列表")+" > "+t),this.init_doc_content()):$("#curr_breadcrumb").empty().html("简介")},init_doc_content:function(e){$.get(docs_content_url,function(e){$("#api_docs").empty().html(e.doc_html||gettext("暂无文档，请联系 API 负责人处理"))}),$("#user_feedback").empty().html(this.feedback_default_template())},submit_the_advice:function(e){var t={api_id:api_id,system_name:system_name,component_name:component_name,content:$("textarea").val()};$.post(submit_url,t,function(e){e.result&&$("#user_feedback").empty().html(gettext("感谢您的反馈！"))})}});window.content_view=new e});